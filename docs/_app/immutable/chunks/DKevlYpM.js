import{ac as q,a3 as x,ad as z,ae as B,af as I,b as M,ag as P,ah as S,ai as j,_ as G,n as l}from"./gZmWwNMp.js";import{a as K}from"./BuUuZXwI.js";const U=()=>performance.now(),c={tick:t=>requestAnimationFrame(t),now:()=>U(),tasks:new Set};function L(){const t=c.now();c.tasks.forEach(r=>{r.c(t)||(c.tasks.delete(r),r.f())}),c.tasks.size!==0&&c.tick(L)}function W(t){let r;return c.tasks.size===0&&c.tick(L),{promise:new Promise(i=>{c.tasks.add(r={c:t,f:i})}),abort(){c.tasks.delete(r)}}}function E(t,r){S(()=>{t.dispatchEvent(new CustomEvent(r))})}function D(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const r=t.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function R(t){const r={},i=t.split(";");for(const n of i){const[e,v]=n.split(":");if(!e||v===void 0)break;const s=D(e.trim());r[s]=v.trim()}return r}const H=t=>t;function V(t,r,i,n){var e=(t&P)!==0,v="both",s,w=r.inert,b=r.style.overflow,o,f;function p(){return S(()=>s??=i()(r,n?.()??{},{direction:v}))}var _={is_global:e,in(){r.inert=w,E(r,"introstart"),o=g(r,p(),f,1,()=>{E(r,"introend"),o?.abort(),o=s=void 0,r.style.overflow=b})},out(d){r.inert=!0,E(r,"outrostart"),f=g(r,p(),o,0,()=>{E(r,"outroend"),d?.()})},stop:()=>{o?.abort(),f?.abort()}},h=q;if((h.transitions??=[]).push(_),K){var u=e;if(!u){for(var a=h.parent;a&&(a.f&x)!==0;)for(;(a=a.parent)&&(a.f&z)===0;);u=!a||(a.f&B)!==0}u&&I(()=>{M(()=>_.in())})}}function g(t,r,i,n,e){var v=n===1;if(j(r)){var s,w=!1;return G(()=>{if(!w){var d=r({direction:v?"in":"out"});s=g(t,d,i,n,e)}}),{abort:()=>{w=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(i?.deactivate(),!r?.duration)return e(),{abort:l,deactivate:l,reset:l,t:()=>n};const{delay:b=0,css:o,tick:f,easing:p=H}=r;var _=[];if(v&&i===void 0&&(f&&f(0,1),o)){var h=R(o(0,1));_.push(h,h)}var u=()=>1-n,a=t.animate(_,{duration:b,fill:"forwards"});return a.onfinish=()=>{a.cancel();var d=i?.t()??1-n;i?.abort();var F=n-d,k=r.duration*Math.abs(F),y=[];if(k>0){var A=!1;if(o)for(var C=Math.ceil(k/16.666666666666668),T=0;T<=C;T+=1){var N=d+F*p(T/C),O=R(o(N,1-N));y.push(O),A||=O.overflow==="hidden"}A&&(t.style.overflow="hidden"),u=()=>{var m=a.currentTime;return d+F*p(m/k)},f&&W(()=>{if(a.playState!=="running")return!1;var m=u();return f(m,1-m),!0})}a=t.animate(y,{duration:k,fill:"forwards"}),a.onfinish=()=>{u=()=>n,f?.(n,1-n),e()}},{abort:()=>{a&&(a.cancel(),a.effect=null,a.onfinish=l)},deactivate:()=>{e=l},reset:()=>{n===0&&f?.(1,0)},t:()=>u()}}export{V as t};
